<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Kirafan Guesser</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-gray-100 font-sans">
    <div class="container mx-auto p-6 bg-white rounded-xl shadow-lg my-8 max-w-7xl">
        <header class="text-center mb-6">
            <h1 class="text-3xl font-bold text-gray-800"></h1><img class="header-image" src="https://i.imgur.com/8BKuTho.png" alt="Kirara Fantasia Character Guesser">
            <p class="text-gray-600 mt-2">Try to guess the Kirara Fantasia character!</p>
        </header>

        <div class="game-controls p-4 border-b border-gray-200 mb-6">
            <div class="flex flex-col md:flex-row items-center gap-4 mb-2">
                <!-- Guess Input and Button row -->
                <div class="relative w-full md:w-auto flex-grow flex gap-4">
                    <input type="text" id="guessInput" placeholder="Type in character name..." list="namesList" autocomplete="off"
                        class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <datalist id="namesList"></datalist>
                    <button id="guessButton" type="button"
                        class="bg-blue-500 text-white font-bold py-2 px-4 rounded-md hover:bg-blue-600 transition-colors whitespace-nowrap">
                        Guess
                    </button>
                </div>
            </div>
            
            <!-- NEW: Checkbox for series name in autocomplete -->
            <div class="flex items-center mt-2 mb-2">
                <input type="checkbox" id="showSeriesCheckbox" class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500">
                <label for="showSeriesCheckbox" class="ml-2 block text-sm text-gray-900">Show series name in auto-complete.</label>
            </div>

            <!-- Status message row -->
            <div class="mb-4">
                <div id="status" role="status" aria-live="polite" class="text-red-600 font-medium"></div>
            </div>

            <!-- Guesses left and Difficulty row -->
            <div class="flex justify-between items-center">
                <!-- HINT BUTTON ADDED HERE -->
                <div class="flex items-center text-gray-700 gap-4">
                    <button id="hintButton" type="button" class="hidden bg-yellow-400 text-white font-bold py-2 px-4 rounded-md hover:bg-yellow-500 transition-colors whitespace-nowrap">
                        Hint
                    </button>
                    <p>Guesses left: <span id="guessesLeft" class="font-bold"></span></p>
                    <div id="gems" class="ml-2 flex items-center"></div>
                </div>
                <div class="flex items-center gap-2">
                    <label for="difficulty" class="text-gray-600 whitespace-nowrap">Difficulty:</label>
                    <select id="difficulty"
                        class="border border-gray-300 rounded-md px-2 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option value="13">Easy</option>
                        <option value="10">Medium</option>
                        <option value="7">Hard</option>
                    </select>
                </div>
            </div>

            <button id="playAgainBtn"
                class="hidden mt-4 w-full bg-green-500 text-white font-bold py-2 px-4 rounded-md hover:bg-green-600 transition-colors">
                Play Again
            </button>
        </div>

        <div class="game-table-container overflow-x-auto">
            <table id="gameTable" class="min-w-full divide-y divide-gray-200">
                <thead class="bg-gray-50">
                    <tr>
                        <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
                        <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Element</th>
                        <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Class</th>
                        <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Rarity</th>
                        <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Limited Cards</th>
                        <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Series</th>
                        <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Release Year</th>
                        <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Number of Cards</th>
                    </tr>
                </thead>
                <tbody class="bg-white divide-y divide-gray-200">
                    <!-- Guess rows will be added here -->
                </tbody>
            </table>
        </div>

        <div class="legend-container mt-6">
            <h3 class="text-lg font-semibold text-gray-700 mb-2">Legend:</h3>
            <div class="flex flex-wrap gap-4">
                <div class="flex items-center gap-2">
                    <div class="w-4 h-4 bg-green-200 border border-green-500 rounded-sm"></div>
                    <span class="text-sm text-gray-600">Correct Match</span>
                </div>
                <div class="flex items-center gap-2">
                    <div class="w-4 h-4 bg-yellow-100 border border-yellow-500 rounded-sm"></div>
                    <span class="text-sm text-gray-600">Partial Match</span>
                </div>
                <div class="flex items-center gap-2">
                    <div class="w-4 h-4 bg-red-100 border border-red-500 rounded-sm"></div>
                    <span class="text-sm text-gray-600">No Match</span>
                </div>
                <div class="flex items-center gap-2">
                    <span class="text-sm text-gray-600">ðŸ¡³ Value is lower</span>
                </div>
                <div class="flex items-center gap-2">
                    <span class="text-sm text-gray-600">ðŸ¡± Value is higher</span>
                </div>
                </div>
            </div>
        </div>
    </div>

    <!-- HINT CONFIRMATION MODAL -->
    <div id="hintModal" class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 z-50 flex items-center justify-center">
        <div class="bg-white p-6 rounded-lg shadow-xl text-center max-w-sm mx-auto">
            <p class="mb-4 text-lg font-medium text-gray-800">Do you want to exchange 1 guess for a hint?</p>
            <div class="flex justify-center gap-4">
                <button id="confirmHintBtn" class="bg-green-500 text-white font-bold py-2 px-6 rounded-md hover:bg-green-600 transition-colors">Yes</button>
                <button id="cancelHintBtn" class="bg-red-500 text-white font-bold py-2 px-6 rounded-md hover:bg-red-600 transition-colors">No</button>
            </div>
        </div>
    </div>

    <script>
        const elementIcons = { Earth: 'https://i.imgur.com/dMwryhL.png', Fire: 'https://i.imgur.com/5jAQHdb.png', Water: 'https://i.imgur.com/Dm03NMi.png', Wind: 'https://i.imgur.com/KSziZNg.png', Sun: 'https://i.imgur.com/QUNUzXb.png', Moon: 'https://i.imgur.com/n4bUo8h.png' };
        const classIcons = { Alchemist: 'https://i.imgur.com/M6QwBVL.png', Warrior: 'https://i.imgur.com/8jlTelp.png', Knight: 'https://i.imgur.com/IukPY4D.png', Mage: 'https://i.imgur.com/iPnkGXP.png', Priest: 'https://i.imgur.com/r2cEJih.png' };
        const gemIcon = 'https://i.imgur.com/n0199U5.png';
        const initialData = [
			{"Name":"Yuno (Hidamari Sketch)","Element":["Water","Wind","Sun"],"Class":["Mage","Priest","Knight","Alchemist"],"Rarity":[3,4,5],"Event":["Christmas","Swimsuit"],"Series":"Hidamari Sketch","Release Year":2017,"Number of Cards":6},
{"Name":"Miyako (Hidamari Sketch)","Element":["Fire","Earth","Sun","Moon"],"Class":["Warrior","Mage","Knight"],"Rarity":[3,4,5],"Event":["Christmas"],"Series":"Hidamari Sketch","Release Year":2017,"Number of Cards":5},
{"Name":"Hiro (Hidamari Sketch)","Element":["Fire","Wind","Sun"],"Class":["Mage","Priest","Alchemist"],"Rarity":[3,4,5],"Event":["Valentine"],"Series":"Hidamari Sketch","Release Year":2017,"Number of Cards":4},
{"Name":"Sae (Hidamari Sketch)","Element":["Water","Earth","Sun"],"Class":["Warrior","Knight","Alchemist"],"Rarity":[3,4,5],"Event":["White Day"],"Series":"Hidamari Sketch","Release Year":2017,"Number of Cards":3},
{"Name":"Nori (Hidamari Sketch)","Element":["Water","Wind"],"Class":["Knight"],"Rarity":[3,4],"Event":["None"],"Series":"Hidamari Sketch","Release Year":2017,"Number of Cards":2},
{"Name":"Nazuna (Hidamari Sketch)","Element":["Earth","Sun","Moon"],"Class":["Warrior","Priest","Alchemist"],"Rarity":[3,4,5],"Event":["Swimsuit"],"Series":"Hidamari Sketch","Release Year":2017,"Number of Cards":3},
{"Name":"Nonohara Yuzuko (Yuyushiki)","Element":["Water","Fire","Wind","Earth"],"Class":["Warrior","Mage","Priest","Knight","Alchemist"],"Rarity":[3,4,5],"Event":["New Year","Swimsuit","Halloween"],"Series":"Yuyushiki","Release Year":2017,"Number of Cards":7},
{"Name":"Ichii Yui (Yuyushiki)","Element":["Water","Fire","Wind","Earth","Sun","Moon"],"Class":["Warrior","Mage","Priest","Knight"],"Rarity":[3,4,5],"Event":["Hinamatsuri","Swimsuit"],"Series":"Yuyushiki","Release Year":2017,"Number of Cards":8},
{"Name":"Hinata Yukari (Yuyushiki)","Element":["Water","Fire","Wind","Earth","Sun","Moon"],"Class":["Warrior","Mage","Priest","Knight","Alchemist"],"Rarity":[3,4,5],"Event":["Swimsuit","New Year"],"Series":"Yuyushiki","Release Year":2017,"Number of Cards":6},
{"Name":"Matsumoto Yoriko (Yuyushiki)","Element":["Fire","Earth","Sun","Moon"],"Class":["Mage","Priest","Alchemist"],"Rarity":[3,4,5],"Event":["Maid"],"Series":"Yuyushiki","Release Year":2017,"Number of Cards":4},
{"Name":"Aikawa Chiho (Yuyushiki)","Element":["Wind","Earth","Sun"],"Class":["Priest","Knight"],"Rarity":[3,4,5],"Event":["Hot Springs"],"Series":"Yuyushiki","Release Year":2017,"Number of Cards":4},
{"Name":"Okano Kei (Yuyushiki)","Element":["Fire"],"Class":["Knight"],"Rarity":[4],"Event":["None"],"Series":"Yuyushiki","Release Year":2018,"Number of Cards":1},
{"Name":"Hasegawa Fumi (Yuyushiki)","Element":["Fire","Earth"],"Class":["Mage"],"Rarity":[4,5],"Event":["None"],"Series":"Yuyushiki","Release Year":2018,"Number of Cards":2},
{"Name":"Takeya Yuki (Gakkou Gurashi)","Element":["Water","Fire","Wind","Earth"],"Class":["Mage","Priest","Alchemist"],"Rarity":[3,4,5],"Event":["Swimsuit"],"Series":"Gakkou Gurashi","Release Year":2017,"Number of Cards":6},
{"Name":"Ebisuzawa Kurumi (Gakkou Gurashi)","Element":["Wind","Earth","Sun","Moon"],"Class":["Warrior","Mage","Knight"],"Rarity":[3,4,5],"Event":["Swimsuit","Christmas"],"Series":"Gakkou Gurashi","Release Year":2017,"Number of Cards":6},
{"Name":"Wakasa Yuuri (Gakkou Gurashi)","Element":["Water","Fire","Wind","Earth","Moon"],"Class":["Mage","Priest","Knight","Alchemist"],"Rarity":[3,4,5],"Event":["New Year","Hot Springs"],"Series":"Gakkou Gurashi","Release Year":2017,"Number of Cards":6},
{"Name":"Naoki Miki (Gakkou Gurashi)","Element":["Fire","Wind","Earth","Moon"],"Class":["Warrior","Knight","Alchemist"],"Rarity":[3,4,5],"Event":["Halloween"],"Series":"Gakkou Gurashi","Release Year":2017,"Number of Cards":5},
{"Name":"Sakura Megumi (Gakkou Gurashi)","Element":["Water","Fire","Wind"],"Class":["Warrior","Alchemist"],"Rarity":[3,4,5],"Event":["Swimsuit"],"Series":"Gakkou Gurashi","Release Year":2017,"Number of Cards":4},
{"Name":"Shidou Kei (Gakkou Gurashi)","Element":["Wind"],"Class":["Mage"],"Rarity":[5],"Event":["None"],"Series":"Gakkou Gurashi","Release Year":2020,"Number of Cards":1},
{"Name":"Yuki (Grown-up) (Gakkou Gurashi)","Element":["Sun"],"Class":["Knight"],"Rarity":[5],"Event":["Grown-up"],"Series":"Gakkou Gurashi","Release Year":2021,"Number of Cards":1},
{"Name":"Kurumi (Grown-up) (Gakkou Gurashi)","Element":["Sun"],"Class":["Priest"],"Rarity":[5],"Event":["Grown-up"],"Series":"Gakkou Gurashi","Release Year":2022,"Number of Cards":1},
{"Name":"Yuuri (Grown-up) (Gakkou Gurashi)","Element":["Sun"],"Class":["Alchemist"],"Rarity":[5],"Event":["Grown-up"],"Series":"Gakkou Gurashi","Release Year":2022,"Number of Cards":1},
{"Name":"Miki (Grown-up) (Gakkou Gurashi)","Element":["Sun"],"Class":["Mage"],"Rarity":[5],"Event":["Grown-up"],"Series":"Gakkou Gurashi","Release Year":2021,"Number of Cards":1},
{"Name":"Tooru (A Channel)","Element":["Water","Fire","Wind","Earth","Sun"],"Class":["Warrior","Mage","Priest","Alchemist"],"Rarity":[3,4,5],"Event":["Swimsuit","Christmas","White Day"],"Series":"A Channel","Release Year":2017,"Number of Cards":8},
{"Name":"Run (A Channel)","Element":["Water","Fire","Wind","Earth","Sun"],"Class":["Mage","Priest","Knight","Alchemist"],"Rarity":[3,4,5],"Event":["Christmas","New Year","Valentine"],"Series":"A Channel","Release Year":2017,"Number of Cards":7},
{"Name":"Yuuko (A-Channel)","Element":["Wind","Earth","Sun","Moon"],"Class":["Warrior","Mage","Priest","Knight"],"Rarity":[3,4,5],"Event":["Christmas","Swimsuit"],"Series":"A-Channel","Release Year":2017,"Number of Cards":6},
{"Name":"Nagi (A-Channel)","Element":["Water","Fire","Wind","Earth","Moon"],"Class":["Priest","Knight","Alchemist"],"Rarity":[3,4,5],"Event":["Swimsuit"],"Series":"A-Channel","Release Year":2017,"Number of Cards":5},
{"Name":"Miho (A-Channel)","Element":["Water"],"Class":["Warrior"],"Rarity":[4],"Event":["None"],"Series":"A-Channel","Release Year":2018,"Number of Cards":1},
{"Name":"Yutaka (A-Channel)","Element":["Water","Wind"],"Class":["Mage","Knight"],"Rarity":[4,5],"Event":["Maid"],"Series":"A-Channel","Release Year":2019,"Number of Cards":2},
{"Name":"Kitou Kimiko (A-Channel)","Element":["Fire"],"Class":["Priest"],"Rarity":[4],"Event":["None"],"Series":"A-Channel","Release Year":2019,"Number of Cards":1},
{"Name":"Kujou Karen (Kiniro Mosaic)","Element":["Fire","Wind","Earth","Sun","Moon"],"Class":["Warrior","Mage","Priest","Knight","Alchemist"],"Rarity":[3,4,5],"Event":["Swimsuit","A Magician From Overseas","Sports Festival","Christmas"],"Series":"Kiniro Mosaic","Release Year":2017,"Number of Cards":8},
{"Name":"Alice Cartelet (Kiniro Mosaic)","Element":["Water","Fire","Wind","Earth","Sun"],"Class":["Mage","Priest","Knight","Alchemist"],"Rarity":[3,4,5],"Event":["Christmas","New Year","Cinnamoroll"],"Series":"Kiniro Mosaic","Release Year":2017,"Number of Cards":8},
{"Name":"Oomiya Shinobu (Kiniro Mosaic)","Element":["Water","Fire","Earth","Sun"],"Class":["Warrior","Mage","Priest","Alchemist"],"Rarity":[3,4,5],"Event":["New Year","Postman of Happiness"],"Series":"Kiniro Mosaic","Release Year":2017,"Number of Cards":6},
{"Name":"Komichi Aya (Kiniro Mosaic)","Element":["Water","Wind","Sun","Moon"],"Class":["Warrior","Mage","Knight","Alchemist"],"Rarity":[3,4,5],"Event":["Valentine","Swimsuit","Christmas"],"Series":"Kiniro Mosaic","Release Year":2017,"Number of Cards":5},
{"Name":"Inokuma Youko (Kiniro Mosaic)","Element":["Fire","Sun"],"Class":["Warrior","Mage","Priest","Knight"],"Rarity":[3,4,5],"Event":["Sports Festival","Swimsuit","Hot Springs"],"Series":"Kiniro Mosaic","Release Year":2017,"Number of Cards":5},
{"Name":"Matsubara Honoka (Kiniro Mosaic)","Element":["Water","Wind","Moon"],"Class":["Warrior","Priest"],"Rarity":[3,4,5],"Event":["None"],"Series":"Kiniro Mosaic","Release Year":2017,"Number of Cards":3},
{"Name":"Oomiya Isami (Kiniro Mosaic)","Element":["Water","Fire"],"Class":["Priest","Alchemist"],"Rarity":[4,5],"Event":["New Year"],"Series":"Kiniro Mosaic","Release Year":2018,"Number of Cards":2},
{"Name":"Karasuma Sakura (Kiniro Mosaic)","Element":["Wind","Earth"],"Class":["Warrior"],"Rarity":[4,5],"Event":["None"],"Series":"Kiniro Mosaic","Release Year":2018,"Number of Cards":2},
{"Name":"Kuzehashi Akari (Kiniro Mosaic)","Element":["Wind"],"Class":["Knight"],"Rarity":[4],"Event":["None"],"Series":"Kiniro Mosaic","Release Year":2018,"Number of Cards":1},
{"Name":"Kana Higurashi (Kiniro Mosaic)","Element":["Water"],"Class":["Mage"],"Rarity":[4],"Event":["None"],"Series":"Kiniro Mosaic","Release Year":2021,"Number of Cards":1},
{"Name":"Suzukaze Aoba (NEW GAME!)","Element":["Fire","Wind","Earth"],"Class":["Warrior","Mage","Priest","Knight"],"Rarity":[3,4,5],"Event":["Sports Festival"],"Series":"NEW GAME!","Release Year":2017,"Number of Cards":7},
{"Name":"Takimoto Hifumi (NEW GAME!)","Element":["Water","Fire","Wind","Sun","Moon"],"Class":["Warrior","Mage","Priest","Knight"],"Rarity":[3,4,5],"Event":["Christmas","Maid","Swimsuit"],"Series":"NEW GAME!","Release Year":2017,"Number of Cards":7},
{"Name":"Shinoda Hajime (NEW GAME!)","Element":["Water","Wind"],"Class":["Warrior","Knight"],"Rarity":[3,4,5],"Event":["Christmas"],"Series":"NEW GAME!","Release Year":2017,"Number of Cards":3},
{"Name":"Iijima Yun (NEW GAME!)","Element":["Fire","Earth","Moon"],"Class":["Warrior","Knight","Alchemist"],"Rarity":[3,4,5],"Event":["Hinamatsuri"],"Series":"NEW GAME!","Release Year":2017,"Number of Cards":3},
{"Name":"Yagami Kou (NEW GAME!)","Element":["Water","Fire","Wind","Earth","Sun"],"Class":["Warrior","Mage","Knight","Alchemist"],"Rarity":[3,4,5],"Event":["Swimsuit","New Year"],"Series":"NEW GAME!","Release Year":2017,"Number of Cards":5},
{"Name":"Tooyama Rin (NEW GAME!)","Element":["Water","Fire","Moon"],"Class":["Priest","Alchemist"],"Rarity":[3,4,5],"Event":["None"],"Series":"NEW GAME!","Release Year":2017,"Number of Cards":3},
{"Name":"Sakura Nene (NEW GAME!)","Element":["Wind","Earth"],"Class":["Warrior"],"Rarity":[4,5],"Event":["Swimsuit"],"Series":"NEW GAME!","Release Year":2018,"Number of Cards":2},
{"Name":"Ahagon Umiko (NEW GAME!)","Element":["Water","Wind","Earth"],"Class":["Warrior"],"Rarity":[3,4,5],"Event":["None"],"Series":"NEW GAME!","Release Year":2018,"Number of Cards":3},
{"Name":"Mochizuki Momiji (NEW GAME!)","Element":["Water","Earth","Moon"],"Class":["Warrior","Mage","Priest"],"Rarity":[4,5],"Event":["New Year","Valentine"],"Series":"NEW GAME!","Release Year":2017,"Number of Cards":3},
{"Name":"Narumi Tsubame (NEW GAME!)","Element":["Water","Earth"],"Class":["Priest","Knight"],"Rarity":[4,5],"Event":["Valentine"],"Series":"NEW GAME!","Release Year":2018,"Number of Cards":2},
{"Name":"Hazuki Shizuku (NEW GAME!)","Element":["Fire"],"Class":["Alchemist"],"Rarity":[4],"Event":["None"],"Series":"NEW GAME!","Release Year":2019,"Number of Cards":1},
{"Name":"Hoshikawa Hotaru (NEW GAME!)","Element":["Water","Earth"],"Class":["Mage"],"Rarity":[4,5],"Event":["None"],"Series":"NEW GAME!","Release Year":2018,"Number of Cards":2},
{"Name":"Honda Tamaki (Stella No Mahou)","Element":["Water","Fire","Wind","Earth","Sun"],"Class":["Warrior","Mage","Priest","Knight","Alchemist"],"Rarity":[3,4,5],"Event":["Christmas","Sports Festival"],"Series":"Stella No Mahou","Release Year":2017,"Number of Cards":7},
{"Name":"Fujikawa Kayo (Stella No Mahou)","Element":["Water","Fire","Wind","Moon"],"Class":["Priest","Alchemist"],"Rarity":[3,4,5],"Event":["Easter"],"Series":"Stella No Mahou","Release Year":2017,"Number of Cards":4},
{"Name":"Murakami Shiina (Stella No Mahou)","Element":["Water","Fire","Wind","Earth","Moon"],"Class":["Warrior","Mage","Knight","Alchemist"],"Rarity":[3,4,5],"Event":["Valentine","Swimsuit"],"Series":"Stella No Mahou","Release Year":2017,"Number of Cards":6},
{"Name":"Seki Ayame (Stella No Mahou)","Element":["Fire","Wind","Moon"],"Class":["Warrior","Alchemist"],"Rarity":[3,4,5],"Event":["None"],"Series":"Stella No Mahou","Release Year":2017,"Number of Cards":3},
{"Name":"Fuda Yumine (Stella No Mahou)","Element":["Wind","Sun","Moon"],"Class":["Warrior","Priest"],"Rarity":[3,4,5],"Event":["Swimsuit"],"Series":"Stella No Mahou","Release Year":2017,"Number of Cards":4},
{"Name":"Hyakutake Teru (Stella No Mahou)","Element":["Water","Moon"],"Class":["Mage"],"Rarity":[4,5],"Event":["None"],"Series":"Stella No Mahou","Release Year":2018,"Number of Cards":2},
{"Name":"Iino Minaha (Stella No Mahou)","Element":["Sun","Moon"],"Class":["Alchemist"],"Rarity":[4,5],"Event":["None"],"Series":"Stella No Mahou","Release Year":2019,"Number of Cards":2},
{"Name":"Iketani Nono (Stella No Mahou)","Element":["Fire","Wind","Moon"],"Class":["Mage","Knight"],"Rarity":[4,5],"Event":["Maid"],"Series":"Stella No Mahou","Release Year":2019,"Number of Cards":3},
{"Name":"Tsuruse Matsuri (Stella No Mahou)","Element":["Moon"],"Class":["Knight"],"Rarity":[4],"Event":["None"],"Series":"Stella No Mahou","Release Year":2020,"Number of Cards":1},
{"Name":"Chiya (Urara Meirochou)","Element":["Fire","Wind","Earth","Sun","Moon"],"Class":["Warrior","Mage","Priest","Knight","Alchemist"],"Rarity":[3,4,5],"Event":["Valentine","Christmas","Easter"],"Series":"Urara Meirochou","Release Year":2017,"Number of Cards":8},
{"Name":"Tatsumi Kon (Urara Meirochou)","Element":["Fire","Wind","Earth","Sun"],"Class":["Warrior","Mage","Knight","Alchemist"],"Rarity":[3,4,5],"Event":["White Day","Swimsuit","Bridal"],"Series":"Urara Meirochou","Release Year":2017,"Number of Cards":7},
{"Name":"Yukimi Koume (Urara Meirochou)","Element":["Water","Wind","Earth","Moon"],"Class":["Mage","Priest","Alchemist"],"Rarity":[3,4,5],"Event":["Valentine","Halloween"],"Series":"Urara Meirochou","Release Year":2017,"Number of Cards":6},
{"Name":"Natsume Nono (Urara Meirochou)","Element":["Water","Wind","Earth"],"Class":["Warrior","Mage","Priest","Knight"],"Rarity":[3,4,5],"Event":["Halloween","Hot Springs"],"Series":"Urara Meirochou","Release Year":2017,"Number of Cards":6},
{"Name":"Iroi Saku (Urara Meirochou)","Element":["Wind"],"Class":["Knight"],"Rarity":[4],"Event":["None"],"Series":"Urara Meirochou","Release Year":2017,"Number of Cards":1},
{"Name":"Natsume Nina (Urara Meirochou)","Element":["Wind","Sun"],"Class":["Alchemist"],"Rarity":[4,5],"Event":["None"],"Series":"Urara Meirochou","Release Year":2017,"Number of Cards":2},
{"Name":"Nijou Omi (Urara Meirochou)","Element":["Wind","Earth","Moon"],"Class":["Warrior","Priest","Alchemist"],"Rarity":[4,5],"Event":["Tanabata","New Year"],"Series":"Urara Meirochou","Release Year":2018,"Number of Cards":3},
{"Name":"Hanahara Tsubaki (Urara Meirochou)","Element":["Wind"],"Class":["Mage"],"Rarity":[5],"Event":["None"],"Series":"Urara Meirochou","Release Year":2021,"Number of Cards":1},
{"Name":"Marie (Urara Meirochou)","Element":["Wind"],"Class":["Mage"],"Rarity":[4],"Event":["Halloween"],"Series":"Urara Meirochou","Release Year":2021,"Number of Cards":1},
{"Name":"Oribe Yasuna (Kill Me Baby)","Element":["Water","Fire","Earth","Sun","Moon"],"Class":["Warrior","Priest","Knight","Alchemist"],"Rarity":[3,4,5],"Event":["Swimsuit","New Year"],"Series":"Kill Me Baby","Release Year":2018,"Number of Cards":5},
{"Name":"Sonya (Kill Me Baby)","Element":["Water","Fire","Earth","Sun","Moon"],"Class":["Warrior","Mage","Knight","Alchemist"],"Rarity":[3,4,5],"Event":["Christmas","Swimsuit","Halloween"],"Series":"Kill Me Baby","Release Year":2017,"Number of Cards":6},
{"Name":"Goshiki Agiri (Kill Me Baby)","Element":["Fire","Wind","Earth"],"Class":["Warrior","Mage","Alchemist"],"Rarity":[3,4,5],"Event":["Christmas","New Year"],"Series":"Kill Me Baby","Release Year":2018,"Number of Cards":5},
{"Name":"Takayama Haruka (Sakura Trick)","Element":["Water","Fire","Wind","Sun"],"Class":["Priest","Knight","Alchemist"],"Rarity":[3,4,5],"Event":["Swimsuit","Bridal"],"Series":"Sakura Trick","Release Year":2017,"Number of Cards":5},
{"Name":"Sonoda Yuu (Sakura Trick)","Element":["Water","Wind","Sun"],"Class":["Warrior","Mage","Priest"],"Rarity":[3,4,5],"Event":["Bridal","Pompompurin"],"Series":"Sakura Trick","Release Year":2017,"Number of Cards":5},
{"Name":"Minami Shizuku (Sakura Trick)","Element":["Fire","Wind","Earth"],"Class":["Warrior","Priest","Knight","Alchemist"],"Rarity":[3,4,5],"Event":["White Day","Swimsuit"],"Series":"Sakura Trick","Release Year":2018,"Number of Cards":4},
{"Name":"Noda Kotone (Sakura Trick)","Element":["Wind","Earth","Sun"],"Class":["Mage","Priest","Alchemist"],"Rarity":[3,4,5],"Event":["Swimsuit","Valentine"],"Series":"Sakura Trick","Release Year":2018,"Number of Cards":4},
{"Name":"Ikeno Kaede (Sakura Trick)","Element":["Water","Fire","Sun"],"Class":["Warrior","Alchemist"],"Rarity":[3,4,5],"Event":["None"],"Series":"Sakura Trick","Release Year":2018,"Number of Cards":3},
{"Name":"Iizuka Yuzu (Sakura Trick)","Element":["Wind","Moon"],"Class":["Warrior","Mage"],"Rarity":[3,4],"Event":["None"],"Series":"Sakura Trick","Release Year":2018,"Number of Cards":2},
{"Name":"Otokawa Sumi (Sakura Trick)","Element":["Earth"],"Class":["Knight"],"Rarity":[4],"Event":["None"],"Series":"Sakura Trick","Release Year":2018,"Number of Cards":1},
{"Name":"Sonoda Mitsuki (Sakura Trick)","Element":["Wind","Sun"],"Class":["Warrior"],"Rarity":[4,5],"Event":["None"],"Series":"Sakura Trick","Release Year":2020,"Number of Cards":2},
{"Name":"Sakuranomiya Maika (Blend S)","Element":["Water","Wind","Sun","Moon"],"Class":["Mage","Priest","Knight","Alchemist"],"Rarity":[3,4,5],"Event":["Hinamatsuri","Swimsuit"],"Series":"Blend S","Release Year":2018,"Number of Cards":6},
{"Name":"Hinata Kaho (Blend S)","Element":["Water","Fire","Wind","Earth","Moon"],"Class":["Warrior","Mage","Priest","Knight","Alchemist"],"Rarity":[3,4,5],"Event":["Swimsuit","New Year","Christmas"],"Series":"Blend S","Release Year":2018,"Number of Cards":7},
{"Name":"Hoshikawa Mafuyu (Blend S)","Element":["Water","Moon"],"Class":["Mage","Priest","Knight"],"Rarity":[3,4,5],"Event":["Christmas"],"Series":"Blend S","Release Year":2018,"Number of Cards":4},
{"Name":"Amano Miu (Blend S)","Element":["Fire","Earth","Moon"],"Class":["Mage","Alchemist"],"Rarity":[3,4,5],"Event":["None"],"Series":"Blend S","Release Year":2018,"Number of Cards":3},
{"Name":"Kanzaki Hideri (Blend S)","Element":["Fire","Earth","Sun"],"Class":["Warrior","Knight","Alchemist"],"Rarity":[3,4,5],"Event":["Hinamatsuri"],"Series":"Blend S","Release Year":2018,"Number of Cards":4},
{"Name":"Sakuranomiya Aika (Blend S)","Element":["Moon"],"Class":["Alchemist"],"Rarity":[4],"Event":["None"],"Series":"Blend S","Release Year":2018,"Number of Cards":1},
{"Name":"Ichinose Hana (Slow Start)","Element":["Water","Sun","Moon"],"Class":["Warrior","Mage","Priest","Knight"],"Rarity":[3,4,5],"Event":["Flower Blooming in the Wasteland","Halloween"],"Series":"Slow Start","Release Year":2018,"Number of Cards":6},
{"Name":"Sengoku Kamuri (Slow Start)","Element":["Water","Fire","Wind","Earth","Sun"],"Class":["Warrior","Priest","Alchemist"],"Rarity":[3,4,5],"Event":["Valentine","My Melody"],"Series":"Slow Start","Release Year":2018,"Number of Cards":5},
{"Name":"Tokura Eiko (Slow Start)","Element":["Fire","Wind","Earth"],"Class":["Warrior","Mage","Knight","Alchemist"],"Rarity":[3,4,5],"Event":["Swimsuit","Sports Festival","Valentine"],"Series":"Slow Start","Release Year":2018,"Number of Cards":6},
{"Name":"Momochi Tamate (Slow Start)","Element":["Water","Fire","Earth","Sun"],"Class":["Warrior","Priest","Alchemist"],"Rarity":[3,4,5],"Event":["Swimsuit"],"Series":"Slow Start","Release Year":2018,"Number of Cards":5},
{"Name":"Hannen Hiroe (Slow Start)","Element":["Water","Fire","Earth"],"Class":["Mage","Knight"],"Rarity":[4,5],"Event":["New Year","Hot Springs"],"Series":"Slow Start","Release Year":2019,"Number of Cards":3},
{"Name":"Shion (Slow Start)","Element":["Water"],"Class":["Warrior"],"Rarity":[5],"Event":["Hinamatsuri"],"Series":"Slow Start","Release Year":2020,"Number of Cards":1},
{"Name":"Kiyose Enami (Slow Start)","Element":["Fire","Earth"],"Class":["Priest","Alchemist"],"Rarity":[5],"Event":["White Day"],"Series":"Slow Start","Release Year":2020,"Number of Cards":2},
{"Name":"Tokura Miki (Slow Start)","Element":["Wind"],"Class":["Knight"],"Rarity":[4],"Event":["None"],"Series":"Slow Start","Release Year":2021,"Number of Cards":1},
{"Name":"Hirasawa Yui (K-ON!)","Element":["Water","Fire","Earth"],"Class":["Warrior","Priest","Alchemist"],"Rarity":[3,4,5],"Event":["Swimsuit"],"Series":"K-ON!","Release Year":2018,"Number of Cards":4},
{"Name":"Akiyama Mio (K-ON!)","Element":["Water","Moon"],"Class":["Warrior","Priest"],"Rarity":[3,4,5],"Event":["Valentine","Part 2"],"Series":"K-ON!","Release Year":2018,"Number of Cards":4},
{"Name":"Tainaka Ritsu (K-ON!)","Element":["Earth","Sun"],"Class":["Mage","Priest","Knight"],"Rarity":[3,4],"Event":["Valentine"],"Series":"K-ON!","Release Year":2018,"Number of Cards":3},
{"Name":"Kotobuki Tsumugi (K-ON!)","Element":["Wind","Earth"],"Class":["Warrior","Alchemist"],"Rarity":[3,4],"Event":["None"],"Series":"K-ON!","Release Year":2018,"Number of Cards":2},
{"Name":"Nakano Azusa (K-ON!)","Element":["Wind","Earth","Moon"],"Class":["Mage","Priest"],"Rarity":[3,4,5],"Event":["None"],"Series":"K-ON!","Release Year":2018,"Number of Cards":3},
{"Name":"Hirasawa Ui (K-ON!)","Element":["Sun"],"Class":["Knight"],"Rarity":[4],"Event":["None"],"Series":"K-ON!","Release Year":2018,"Number of Cards":1},
{"Name":"Yamanaka Sawako (K-ON!)","Element":["Fire"],"Class":["Warrior"],"Rarity":[5],"Event":["None"],"Series":"K-ON!","Release Year":2022,"Number of Cards":1},
{"Name":"Shima Rin (Yuru Camp)","Element":["Water","Fire","Wind","Moon"],"Class":["Warrior","Mage","Priest"],"Rarity":[4,5],"Event":["Traveler of the Wasteland","White Day"],"Series":"Yuru Camp","Release Year":2018,"Number of Cards":4},
{"Name":"Kagamihara Nadeshiko (Yuru Camp)","Element":["Water","Fire","Wind","Sun","Moon"],"Class":["Warrior","Mage","Knight","Alchemist"],"Rarity":[4,5],"Event":["Swimsuit","Valentine"],"Series":"Yuru Camp","Release Year":2018,"Number of Cards":5},
{"Name":"Oogaki Chiaki (Yuru Camp)","Element":["Water","Wind"],"Class":["Priest"],"Rarity":[4,5],"Event":["None"],"Series":"Yuru Camp","Release Year":2018,"Number of Cards":2},
{"Name":"Inuyama Aoi (Yuru Camp)","Element":["Water","Wind","Earth"],"Class":["Mage","Knight"],"Rarity":[4,5],"Event":["Swimsuit"],"Series":"Yuru Camp","Release Year":2018,"Number of Cards":3},
{"Name":"Saitou Ena (Yuru Camp)","Element":["Water","Moon"],"Class":["Knight","Alchemist"],"Rarity":[4,5],"Event":["Tanabata"],"Series":"Yuru Camp","Release Year":2018,"Number of Cards":2},
{"Name":"Ayano (Yuru Camp)","Element":["Wind"],"Class":["Mage"],"Rarity":[5],"Event":["New Year"],"Series":"Yuru Camp","Release Year":2021,"Number of Cards":1},
{"Name":"Rin (Grown-up) (Yuru Camp)","Element":["Wind"],"Class":["Alchemist"],"Rarity":[5],"Event":["Grown-up"],"Series":"Yuru Camp","Release Year":2022,"Number of Cards":1},
{"Name":"Moeta Kaoruko (Comic Girls)","Element":["Water","Wind","Earth","Moon"],"Class":["Warrior","Priest","Knight","Alchemist"],"Rarity":[4,5],"Event":["Swimsuit","Christmas","Part 2"],"Series":"Comic Girls","Release Year":2018,"Number of Cards":5},
{"Name":"Koizuka Koyume (Comic Girls)","Element":["Earth","Sun","Moon"],"Class":["Mage","Knight"],"Rarity":[4,5],"Event":["Swimsuit"],"Series":"Comic Girls","Release Year":2018,"Number of Cards":3},
{"Name":"Irokawa Ruki (Comic Girls)","Element":["Water","Wind","Earth","Moon"],"Class":["Mage","Knight","Alchemist"],"Rarity":[4,5],"Event":["Christmas","Bridal"],"Series":"Comic Girls","Release Year":2018,"Number of Cards":4},
{"Name":"Katsuki Tsubasa (Comic Girls)","Element":["Water","Moon"],"Class":["Warrior","Mage"],"Rarity":[4,5],"Event":["Tanabata"],"Series":"Comic Girls","Release Year":2018,"Number of Cards":2},
{"Name":"Fuura (Comic Girls)","Element":["Fire","Moon"],"Class":["Priest","Alchemist"],"Rarity":[4,5],"Event":["Halloween","Hot Springs"],"Series":"Comic Girls","Release Year":2019,"Number of Cards":2},
{"Name":"Irokawa Miki (Comic Girls)","Element":["Sun"],"Class":["Mage"],"Rarity":[4],"Event":["None"],"Series":"Comic Girls","Release Year":2020,"Number of Cards":1},
{"Name":"Nijino Miharu (Comic Girls)","Element":["Moon"],"Class":["Warrior"],"Rarity":[5],"Event":["None"],"Series":"Comic Girls","Release Year":2021,"Number of Cards":1},
{"Name":"Mayu (Comic Girls)","Element":["Earth"],"Class":["Knight"],"Rarity":[5],"Event":["Part 2"],"Series":"Comic Girls","Release Year":2022,"Number of Cards":1},
{"Name":"Yamaguchi Kisaragi (GA Geijutsuka Art Design Class)","Element":["Water","Earth"],"Class":["Priest","Alchemist"],"Rarity":[4,5],"Event":["Swimsuit"],"Series":"GA Geijutsuka Art Design Class","Release Year":2019,"Number of Cards":3},
{"Name":"Noda Miki (GA Geijutsuka Art Design Class)","Element":["Fire","Earth"],"Class":["Mage","Priest"],"Rarity":[4,5],"Event":["Halloween"],"Series":"GA Geijutsuka Art Design Class","Release Year":2019,"Number of Cards":2},
{"Name":"Tomokane (GA Geijutsuka Art Design Class)","Element":["Fire"],"Class":["Warrior"],"Rarity":[4],"Event":["None"],"Series":"GA Geijutsuka Art Design Class","Release Year":2019,"Number of Cards":1},
{"Name":"Oomichi Miyabi (GA Geijutsuka Art Design Class)","Element":["Earth","Moon"],"Class":["Warrior","Alchemist"],"Rarity":[4,5],"Event":["Tanabata"],"Series":"GA Geijutsuka Art Design Class","Release Year":2019,"Number of Cards":2},
{"Name":"Nozaki Namiko (GA Geijutsuka Art Design Class)","Element":["Water","Wind"],"Class":["Knight"],"Rarity":[4,5],"Event":["Part 2"],"Series":"GA Geijutsuka Art Design Class","Release Year":2019,"Number of Cards":2},
{"Name":"Merry Nightmare (Yumekui Merry)","Element":["Water","Fire","Wind","Earth","Moon"],"Class":["Warrior","Mage","Priest","Knight","Alchemist"],"Rarity":[3,4,5],"Event":["Swimsuit","Christmas","Valentine","Hello Kitty"],"Series":"Yumekui Merry","Release Year":2018,"Number of Cards":8},
{"Name":"Tachibana Isana (Yumekui Merry)","Element":["Water","Wind","Sun"],"Class":["Mage","Priest"],"Rarity":[4,5],"Event":["Hinamatsuri"],"Series":"Yumekui Merry","Release Year":2018,"Number of Cards":3},
{"Name":"Engi Threepiece (Yumekui Merry)","Element":["Fire","Moon"],"Class":["Warrior","Knight"],"Rarity":[4,5],"Event":["Sports Festival"],"Series":"Yumekui Merry","Release Year":2020,"Number of Cards":2},
{"Name":"Yui Kounagi (Yumekui Merry)","Element":["Sun","Moon"],"Class":["Warrior","Alchemist"],"Rarity":[4,5],"Event":["Swimsuit"],"Series":"Yumekui Merry","Release Year":2020,"Number of Cards":2},
{"Name":"Clione (Yumekui Merry)","Element":["Earth"],"Class":["Alchemist"],"Rarity":[5],"Event":["Christmas"],"Series":"Yumekui Merry","Release Year":2021,"Number of Cards":1},
{"Name":"Sekiya Naru (Hanayamata)","Element":["Earth","Sun"],"Class":["Priest"],"Rarity":[4,5],"Event":["None"],"Series":"Hanayamata","Release Year":2018,"Number of Cards":2},
{"Name":"Hana N. Fountainstand (Hanayamata)","Element":["Sun","Moon"],"Class":["Mage","Alchemist"],"Rarity":[4,5],"Event":["Swimsuit"],"Series":"Hanayamata","Release Year":2018,"Number of Cards":2},
{"Name":"Sasame Yaya (Hanayamata)","Element":["Water"],"Class":["Knight"],"Rarity":[4],"Event":["None"],"Series":"Hanayamata","Release Year":2018,"Number of Cards":1},
{"Name":"Nishimikado Tami (Hanayamata)","Element":["Sun"],"Class":["Warrior"],"Rarity":[5],"Event":["None"],"Series":"Hanayamata","Release Year":2020,"Number of Cards":1},
{"Name":"Machi Tokiwa (Hanayamata)","Element":["Sun"],"Class":["Alchemist"],"Rarity":[5],"Event":["None"],"Series":"Hanayamata","Release Year":2021,"Number of Cards":1},
{"Name":"Hanakoizumi Anne (Anne Happy)","Element":["Water","Fire","Sun","Moon"],"Class":["Mage","Priest","Knight","Alchemist"],"Rarity":[4,5],"Event":["Christmas","Kuromi","Bridal"],"Series":"Anne Happy","Release Year":2018,"Number of Cards":5},
{"Name":"Hibarigaoka Ruri (Anne Happy)","Element":["Water","Moon"],"Class":["Mage","Priest"],"Rarity":[4,5],"Event":["Hot Springs"],"Series":"Anne Happy","Release Year":2018,"Number of Cards":3},
{"Name":"Kumegawa Botan (Anne Happy)","Element":["Earth","Moon"],"Class":["Mage","Priest"],"Rarity":[4,5],"Event":["Swimsuit"],"Series":"Anne Happy","Release Year":2018,"Number of Cards":3},
{"Name":"Hibiki (Anne Happy)","Element":["Moon"],"Class":["Warrior"],"Rarity":[5],"Event":["Valentine"],"Series":"Anne Happy","Release Year":2020,"Number of Cards":1},
{"Name":"Ekoda Ren (Anne Happy)","Element":["Water","Fire"],"Class":["Warrior","Alchemist"],"Rarity":[4,5],"Event":["Valentine"],"Series":"Anne Happy","Release Year":2020,"Number of Cards":2},
{"Name":"Sayama Tsubaki (Anne Happy)","Element":["Earth","Moon"],"Class":["Mage","Alchemist"],"Rarity":[4,5],"Event":["Maid"],"Series":"Anne Happy","Release Year":2020,"Number of Cards":2},
{"Name":"Oozora Haruka (Harukana Receive)","Element":["Water","Fire","Earth"],"Class":["Warrior","Priest","Knight"],"Rarity":[4,5],"Event":["Swimsuit","Hot Springs"],"Series":"Harukana Receive","Release Year":2018,"Number of Cards":4},
{"Name":"Higa Kanata (Harukana Receive)","Element":["Water","Fire","Sun"],"Class":["Mage","Priest","Alchemist"],"Rarity":[4,5],"Event":["Hot Springs","Bridal"],"Series":"Harukana Receive","Release Year":2018,"Number of Cards":4},
{"Name":"Thomas Claire (Harukana Receive)","Element":["Earth","Sun","Moon"],"Class":["Warrior","Mage","Knight"],"Rarity":[4,5],"Event":["Halloween","Hot Springs"],"Series":"Harukana Receive","Release Year":2018,"Number of Cards":3},
{"Name":"Thomas Emily (Harukana Receive)","Element":["Water","Earth"],"Class":["Priest"],"Rarity":[4,5],"Event":["None"],"Series":"Harukana Receive","Release Year":2018,"Number of Cards":2},
{"Name":"Ooshiro Akari (Harukana Receive)","Element":["Fire"],"Class":["Alchemist"],"Rarity":[4],"Event":["None"],"Series":"Harukana Receive","Release Year":2019,"Number of Cards":1},
{"Name":"Narumi Tooi (Harukana Receive)","Element":["Fire"],"Class":["Knight"],"Rarity":[5],"Event":["None"],"Series":"Harukana Receive","Release Year":2020,"Number of Cards":1},
{"Name":"Ayasa Tachibana (Harukana Receive)","Element":["Fire","Sun"],"Class":["Priest"],"Rarity":[4,5],"Event":["None"],"Series":"Harukana Receive","Release Year":2020,"Number of Cards":2},
{"Name":"Hoto Cocoa (Gochuumon wa Usagi Desu ka?)","Element":["Water","Fire","Wind","Earth"],"Class":["Warrior","Mage","Priest","Alchemist"],"Rarity":[4,5],"Event":["Christmas","Swimsuit","Part 2"],"Series":"Gochuumon wa Usagi Desu ka?","Release Year":2018,"Number of Cards":5},
{"Name":"Kafuu Chino (Gochuumon wa Usagi Desu ka?)","Element":["Water","Earth","Sun"],"Class":["Warrior","Mage","Knight"],"Rarity":[4,5],"Event":["Swimsuit","Part 2"],"Series":"Gochuumon wa Usagi Desu ka?","Release Year":2018,"Number of Cards":4},
{"Name":"Tedeza Rize (Gochuumon wa Usagi Desu ka?)","Element":["Water","Earth","Moon"],"Class":["Warrior","Mage","Knight"],"Rarity":[4,5],"Event":["Halloween","Swimsuit"],"Series":"Gochuumon wa Usagi Desu ka?","Release Year":2019,"Number of Cards":4},
{"Name":"Ujimatsu Chiya (Gochuumon wa Usagi Desu ka?)","Element":["Fire","Wind"],"Class":["Mage","Priest"],"Rarity":[4,5],"Event":["Christmas"],"Series":"Gochuumon wa Usagi Desu ka?","Release Year":2019,"Number of Cards":3},
{"Name":"Kirima Syaro (Gochuumon wa Usagi Desu ka?)","Element":["Fire","Wind","Earth","Moon"],"Class":["Mage","Priest","Alchemist"],"Rarity":[4,5],"Event":["Halloween","Swimsuit"],"Series":"Gochuumon wa Usagi Desu ka?","Release Year":2019,"Number of Cards":4},
{"Name":"Maya (Gochuumon wa Usagi Desu ka?)","Element":["Water","Sun"],"Class":["Warrior"],"Rarity":[4,5],"Event":["None"],"Series":"Gochuumon wa Usagi Desu ka?","Release Year":2019,"Number of Cards":2},
{"Name":"Megu (Gochuumon wa Usagi Desu ka?)","Element":["Water","Sun"],"Class":["Priest"],"Rarity":[4,5],"Event":["None"],"Series":"Gochuumon wa Usagi Desu ka?","Release Year":2019,"Number of Cards":2},
{"Name":"Mocha (Gochuumon wa Usagi Desu ka?)","Element":["Wind"],"Class":["Knight"],"Rarity":[5],"Event":["None"],"Series":"Gochuumon wa Usagi Desu ka?","Release Year":2020,"Number of Cards":1},
{"Name":"Aoyama-san (Gochuumon wa Usagi Desu ka?)","Element":["Water"],"Class":["Priest"],"Rarity":[5],"Event":["New Year"],"Series":"Gochuumon wa Usagi Desu ka?","Release Year":2021,"Number of Cards":1},
{"Name":"Hatoya Kohane (Anima Yell!)","Element":["Fire","Sun"],"Class":["Mage","Priest"],"Rarity":[4,5],"Event":["Bridal"],"Series":"Anima Yell!","Release Year":2018,"Number of Cards":3},
{"Name":"Arima Hizume (Anima Yell!)","Element":["Fire","Wind","Moon"],"Class":["Mage","Knight","Alchemist"],"Rarity":[4,5],"Event":["Valentine","Maid"],"Series":"Anima Yell!","Release Year":2018,"Number of Cards":4},
{"Name":"Sawatari Uki (Anima Yell!)","Element":["Fire","Wind"],"Class":["Warrior","Alchemist"],"Rarity":[4,5],"Event":["Tanabata"],"Series":"Anima Yell!","Release Year":2018,"Number of Cards":3},
{"Name":"Tatejima Kotetsu (Anima Yell!)","Element":["Water","Earth"],"Class":["Warrior","Mage","Alchemist"],"Rarity":[4,5],"Event":["Christmas","Swimsuit"],"Series":"Anima Yell!","Release Year":2019,"Number of Cards":3},
{"Name":"Ushiku Kana (Anima Yell!)","Element":["Wind","Sun","Moon"],"Class":["Warrior","Mage","Priest"],"Rarity":[4,5],"Event":["White Day","Hot Springs"],"Series":"Anima Yell!","Release Year":2019,"Number of Cards":3},
{"Name":"Inaba Towa (Anima Yell!)","Element":["Moon"],"Class":["Alchemist"],"Rarity":[4],"Event":["None"],"Series":"Anima Yell!","Release Year":2020,"Number of Cards":1},
{"Name":"Kirara (Kirara Fantasia)","Element":["Sun"],"Class":["Mage","Priest","Knight"],"Rarity":[5],"Event":["Manga ver.","Cross Character","Part 2"],"Series":"Kirara Fantasia","Release Year":2019,"Number of Cards":3},
{"Name":"Lamp (Kirara Fantasia)","Element":["Sun"],"Class":["Warrior","Mage","Priest","Knight","Alchemist"],"Rarity":[4,5],"Event":["Sports Festival","Swimsuit","Tanabata","Cross Character","Part 2"],"Series":"Kirara Fantasia","Release Year":2019,"Number of Cards":6},
{"Name":"Clea (Kirara Fantasia)","Element":["Water"],"Class":["Mage","Priest","Knight","Alchemist"],"Rarity":[4,5],"Event":["Swimsuit","Hinamatsuri","Manga ver.","Bridal"],"Series":"Kirara Fantasia","Release Year":2019,"Number of Cards":4},
{"Name":"Polka (Kirara Fantasia)","Element":["Fire","Earth","Moon"],"Class":["Warrior","Mage","Knight"],"Rarity":[4,5],"Event":["Swimsuit","Cross Character","Easter"],"Series":"Kirara Fantasia","Release Year":2019,"Number of Cards":4},
{"Name":"Cork (Kirara Fantasia)","Element":["Fire","Wind","Earth"],"Class":["Warrior","Mage","Priest","Alchemist"],"Rarity":[5],"Event":["Maid","Cross Character","Tanabata"],"Series":"Kirara Fantasia","Release Year":2019,"Number of Cards":4},
{"Name":"Kanna (Kirara Fantasia)","Element":["Moon"],"Class":["Knight"],"Rarity":[5],"Event":["None"],"Series":"Kirara Fantasia","Release Year":2020,"Number of Cards":1},
{"Name":"Leine (Kirara Fantasia)","Element":["Sun"],"Class":["Warrior","Knight","Alchemist"],"Rarity":[4,5],"Event":["New Year","Hot Springs"],"Series":"Kirara Fantasia","Release Year":2020,"Number of Cards":3},
{"Name":"Sola (Kirara Fantasia)","Element":["Moon"],"Class":["Priest"],"Rarity":[5],"Event":["Cross Character"],"Series":"Kirara Fantasia","Release Year":2021,"Number of Cards":1},
{"Name":"Archive (Kirara Fantasia)","Element":["Moon"],"Class":["Warrior","Mage","Priest","Alchemist"],"Rarity":[5],"Event":["New Year","Cross Character","Hot Springs"],"Series":"Kirara Fantasia","Release Year":2019,"Number of Cards":4},
{"Name":"Sugar (Kirara Fantasia)","Element":["Earth"],"Class":["Warrior","Mage"],"Rarity":[5],"Event":["Valentine"],"Series":"Kirara Fantasia","Release Year":2019,"Number of Cards":2},
{"Name":"Sesame (Kirara Fantasia)","Element":["Water"],"Class":["Mage","Priest","Alchemist"],"Rarity":[5],"Event":["Bridal","Part 2"],"Series":"Kirara Fantasia","Release Year":2019,"Number of Cards":3},
{"Name":"Cardamom (Kirara Fantasia)","Element":["Fire"],"Class":["Warrior","Priest"],"Rarity":[5],"Event":["Part 2"],"Series":"Kirara Fantasia","Release Year":2020,"Number of Cards":2},
{"Name":"Salt (Kirara Fantasia)","Element":["Wind"],"Class":["Warrior","Mage"],"Rarity":[5],"Event":["White Day"],"Series":"Kirara Fantasia","Release Year":2019,"Number of Cards":2},
{"Name":"Ginger (Kirara Fantasia)","Element":["Sun"],"Class":["Warrior","Priest"],"Rarity":[5],"Event":["Maid"],"Series":"Kirara Fantasia","Release Year":2019,"Number of Cards":2},
{"Name":"Fennel (Kirara Fantasia)","Element":["Moon"],"Class":["Warrior","Knight"],"Rarity":[5],"Event":["Part 2"],"Series":"Kirara Fantasia","Release Year":2020,"Number of Cards":2},
{"Name":"Hakka (Kirara Fantasia)","Element":["Moon"],"Class":["Warrior","Mage"],"Rarity":[5],"Event":["Part 2"],"Series":"Kirara Fantasia","Release Year":2020,"Number of Cards":2},
{"Name":"Media (Kirara Fantasia)","Element":["Moon"],"Class":["Mage"],"Rarity":[5],"Event":["Part 2"],"Series":"Kirara Fantasia","Release Year":2022,"Number of Cards":1},
{"Name":"Utsutsu (Kirara Fantasia)","Element":["Moon"],"Class":["Knight","Alchemist"],"Rarity":[5],"Event":["Part 2","Swimsuit"],"Series":"Kirara Fantasia","Release Year":2022,"Number of Cards":2},
{"Name":"Enishida (Kirara Fantasia)","Element":["Fire"],"Class":["Alchemist"],"Rarity":[5],"Event":["Part 2"],"Series":"Kirara Fantasia","Release Year":2022,"Number of Cards":1},
{"Name":"Highpris (Kirara Fantasia)","Element":["Sun"],"Class":["Priest"],"Rarity":[5],"Event":["Part 2"],"Series":"Kirara Fantasia","Release Year":2022,"Number of Cards":1},
{"Name":"Sunstone (Kirara Fantasia)","Element":["Moon"],"Class":["Warrior"],"Rarity":[5],"Event":["Part 2"],"Series":"Kirara Fantasia","Release Year":2022,"Number of Cards":1},
{"Name":"Nishikawa Youko (Sansha Sanyou)","Element":["Wind","Moon"],"Class":["Mage","Knight"],"Rarity":[4,5],"Event":["New Year"],"Series":"Sansha Sanyou","Release Year":2019,"Number of Cards":3},
{"Name":"Odagiri Futaba (Sansha Sanyou)","Element":["Water","Fire","Wind"],"Class":["Warrior","Priest","Knight"],"Rarity":[4,5],"Event":["Christmas","Swimsuit"],"Series":"Sansha Sanyou","Release Year":2019,"Number of Cards":3},
{"Name":"Hayama Teru (Sansha Sanyou)","Element":["Wind","Sun"],"Class":["Alchemist"],"Rarity":[4,5],"Event":["None"],"Series":"Sansha Sanyou","Release Year":2019,"Number of Cards":2},
{"Name":"Nishiyama Serina (Sansha Sanyou)","Element":["Wind","Earth"],"Class":["Warrior","Knight"],"Rarity":[4,5],"Event":["Maid"],"Series":"Sansha Sanyou","Release Year":2020,"Number of Cards":2},
{"Name":"Sonobe (Sansha Sanyou)","Element":["Wind","Sun"],"Class":["Warrior","Knight"],"Rarity":[5],"Event":["Gudetama","Easter"],"Series":"Sansha Sanyou","Release Year":2020,"Number of Cards":2},
{"Name":"Kondou (Sansha Sanyou)","Element":["Wind"],"Class":["Alchemist"],"Rarity":[4],"Event":["Maid"],"Series":"Sansha Sanyou","Release Year":2021,"Number of Cards":1},
{"Name":"Hayama Kou (Sansha Sanyou)","Element":["Fire","Wind"],"Class":["Mage","Knight"],"Rarity":[4,5],"Event":["Tanabata"],"Series":"Sansha Sanyou","Release Year":2022,"Number of Cards":2},
{"Name":"Kuro (Hitsugi Katsugi no Kuro ~Kaichuu Tabi no Wa~)","Element":["Earth","Moon"],"Class":["Mage","Alchemist"],"Rarity":[4,5],"Event":["Halloween"],"Series":"Hitsugi Katsugi no Kuro ~Kaichuu Tabi no Wa~","Release Year":2019,"Number of Cards":3},
{"Name":"Yoshida Yuuko (Machikado Mazoku)","Element":["Sun","Moon"],"Class":["Warrior","Priest"],"Rarity":[4,5],"Event":["Sports Festival"],"Series":"Machikado Mazoku","Release Year":2019,"Number of Cards":3},
{"Name":"Chiyoda Momo (Machikado Mazoku)","Element":["Sun","Moon"],"Class":["Warrior","Mage"],"Rarity":[4,5],"Event":["Christmas"],"Series":"Machikado Mazoku","Release Year":2019,"Number of Cards":3},
{"Name":"Lilith (Machikado Mazoku)","Element":["Earth","Moon"],"Class":["Mage"],"Rarity":[4,5],"Event":["Part 2"],"Series":"Machikado Mazoku","Release Year":2019,"Number of Cards":2},
{"Name":"Hinatsuki Mikan (Machikado Mazoku)","Element":["Wind","Sun"],"Class":["Mage","Alchemist"],"Rarity":[4,5],"Event":["Swimsuit"],"Series":"Machikado Mazoku","Release Year":2019,"Number of Cards":2},
{"Name":"Ryoko (Machikado Mazoku)","Element":["Water","Earth"],"Class":["Alchemist"],"Rarity":[4,5],"Event":["Hinamatsuri","Swimsuit"],"Series":"Machikado Mazoku","Release Year":2020,"Number of Cards":2},
{"Name":"Hosono Harumi (Harumination)","Element":["Fire","Earth","Sun"],"Class":["Warrior","Priest","Knight"],"Rarity":[4,5],"Event":["Swimsuit","Hot Springs"],"Series":"Harumination","Release Year":2020,"Number of Cards":3},
{"Name":"Sakamoto Kaju (Harumination)","Element":["Earth"],"Class":["Priest"],"Rarity":[4],"Event":["None"],"Series":"Harumination","Release Year":2021,"Number of Cards":1},
{"Name":"Takahashi Yuki (Harumination)","Element":["Earth"],"Class":["Knight"],"Rarity":[4],"Event":["None"],"Series":"Harumination","Release Year":2021,"Number of Cards":1},
{"Name":"Arumi (Harumination)","Element":["Water"],"Class":["Alchemist"],"Rarity":[4],"Event":["Bridal"],"Series":"Harumination","Release Year":2021,"Number of Cards":1},
{"Name":"Machiko Ryou (Koufuku Graffiti)","Element":["Water","Fire","Earth"],"Class":["Priest","Knight","Alchemist"],"Rarity":[5],"Event":["Swimsuit","New Year"],"Series":"Koufuku Graffiti","Release Year":2020,"Number of Cards":3},
{"Name":"Morino Kirin (Koufuku Graffiti)","Element":["Fire","Moon"],"Class":["Warrior","Knight"],"Rarity":[4,5],"Event":["Sports Festival"],"Series":"Koufuku Graffiti","Release Year":2020,"Number of Cards":3},
{"Name":"Shiina (Koufuku Graffiti)","Element":["Fire","Earth"],"Class":["Mage","Alchemist"],"Rarity":[4,5],"Event":["Swimsuit"],"Series":"Koufuku Graffiti","Release Year":2020,"Number of Cards":3},
{"Name":"Uchiki Yuki (Koufuku Graffiti)","Element":["Fire"],"Class":["Priest"],"Rarity":[5],"Event":["None"],"Series":"Koufuku Graffiti","Release Year":2021,"Number of Cards":1},
{"Name":"Konohata Mira (Koisuru Asteroid)","Element":["Wind","Earth","Moon"],"Class":["Priest","Alchemist"],"Rarity":[4,5],"Event":["Valentine"],"Series":"Koisuru Asteroid","Release Year":2020,"Number of Cards":3},
{"Name":"Manaka Ao (Koisuru Asteroid)","Element":["Fire","Earth","Moon"],"Class":["Mage","Priest","Knight"],"Rarity":[4,5],"Event":["White Day","Tanabata"],"Series":"Koisuru Asteroid","Release Year":2020,"Number of Cards":3},
{"Name":"Inose Mai (Koisuru Asteroid)","Element":["Fire","Earth"],"Class":["Warrior","Knight"],"Rarity":[4,5],"Event":["Halloween"],"Series":"Koisuru Asteroid","Release Year":2020,"Number of Cards":2},
{"Name":"Sakura (Koisuru Asteroid)","Element":["Earth"],"Class":["Mage"],"Rarity":[5],"Event":["Swimsuit"],"Series":"Koisuru Asteroid","Release Year":2021,"Number of Cards":1},
{"Name":"Monroe (Koisuru Asteroid)","Element":["Earth"],"Class":["Alchemist"],"Rarity":[4,5],"Event":["Swimsuit","Hot Springs"],"Series":"Koisuru Asteroid","Release Year":2021,"Number of Cards":2},
{"Name":"Takeda Yomi (Tamayomi)","Element":["Wind","Sun"],"Class":["Mage"],"Rarity":[4,5],"Event":["None"],"Series":"Tamayomi","Release Year":2020,"Number of Cards":2},
{"Name":"Yamazaki Tamaki (Tamayomi)","Element":["Fire"],"Class":["Knight"],"Rarity":[4],"Event":["None"],"Series":"Tamayomi","Release Year":2020,"Number of Cards":1},
{"Name":"Kawaguchi Yoshino (Tamayomi)","Element":["Wind"],"Class":["Alchemist"],"Rarity":[5],"Event":["None"],"Series":"Tamayomi","Release Year":2021,"Number of Cards":1},
{"Name":"Nakamura Nozomi (Tamayomi)","Element":["Wind"],"Class":["Warrior"],"Rarity":[5],"Event":["None"],"Series":"Tamayomi","Release Year":2021,"Number of Cards":1},
{"Name":"Sakura Ino (Ochikobore Fruit Tart)","Element":["Moon"],"Class":["Knight"],"Rarity":[5],"Event":["None"],"Series":"Ochikobore Fruit Tart","Release Year":2020,"Number of Cards":1},
{"Name":"Sekino Roko (Ochikobore Fruit Tart)","Element":["Water","Moon"],"Class":["Warrior","Mage"],"Rarity":[4,5],"Event":["Valentine"],"Series":"Ochikobore Fruit Tart","Release Year":2020,"Number of Cards":2},
{"Name":"Nukui Hayu  (Ochikobore Fruit Tart)","Element":["Fire","Moon"],"Class":["Warrior","Priest"],"Rarity":[4,5],"Event":["Swimsuit"],"Series":"Ochikobore Fruit Tart","Release Year":2020,"Number of Cards":2},
{"Name":"Maehara Nina  (Ochikobore Fruit Tart)","Element":["Earth","Moon"],"Class":["Priest","Alchemist"],"Rarity":[4,5],"Event":["White Day"],"Series":"Ochikobore Fruit Tart","Release Year":2020,"Number of Cards":2},
{"Name":"Hemo Midori (Ochikobore Fruit Tart)","Element":["Moon"],"Class":["Mage"],"Rarity":[5],"Event":["None"],"Series":"Ochikobore Fruit Tart","Release Year":2021,"Number of Cards":1},
{"Name":"Miniwa Tsumiki  (Acchi Kocchi)","Element":["Wind","Earth"],"Class":["Warrior","Priest"],"Rarity":[4,5],"Event":["New Year"],"Series":"Acchi Kocchi","Release Year":2021,"Number of Cards":2},
{"Name":"Haruno Hime  (Acchi Kocchi)","Element":["Sun"],"Class":["Priest"],"Rarity":[4],"Event":["None"],"Series":"Acchi Kocchi","Release Year":2020,"Number of Cards":1},
{"Name":"Katase Mayoi  (Acchi Kocchi)","Element":["Earth","Moon"],"Class":["Mage"],"Rarity":[4,5],"Event":["None"],"Series":"Acchi Kocchi","Release Year":2020,"Number of Cards":2},
{"Name":"Sakuragawa Kikue (Acchi Kocchi)","Element":["Wind"],"Class":["Knight"],"Rarity":[4],"Event":["Easter"],"Series":"Acchi Kocchi","Release Year":2021,"Number of Cards":1},
{"Name":"Shinohana Mayu (Power of Smile.)","Element":["Water","Earth"],"Class":["Knight","Alchemist"],"Rarity":[4,5],"Event":["None"],"Series":"Power of Smile.","Release Year":2022,"Number of Cards":2},
{"Name":"Kodou Tamaki (Power of Smile.)","Element":["Water","Fire"],"Class":["Warrior"],"Rarity":[4,5],"Event":["Easter"],"Series":"Power of Smile.","Release Year":2020,"Number of Cards":2},
{"Name":"Souenji Miku (Power of Smile.)","Element":["Fire"],"Class":["Priest"],"Rarity":[5],"Event":["None"],"Series":"Power of Smile.","Release Year":2021,"Number of Cards":1},
{"Name":"Onosaka Koharu (Koharu Biyori)","Element":["Water","Moon"],"Class":["Knight","Alchemist"],"Rarity":[4,5],"Event":["Swimsuit"],"Series":"Koharu Biyori","Release Year":2021,"Number of Cards":2},
{"Name":"Tachibana Nina (Koharu Biyori)","Element":["Water","Moon"],"Class":["Priest"],"Rarity":[4,5],"Event":["None"],"Series":"Koharu Biyori","Release Year":2020,"Number of Cards":2},
{"Name":"Kitazawa Misaki (Koharu Biyori)","Element":["Fire"],"Class":["Mage"],"Rarity":[4],"Event":["None"],"Series":"Koharu Biyori","Release Year":2021,"Number of Cards":1},
{"Name":"Makinose Himari (Koharu Biyori)","Element":["Wind"],"Class":["Warrior"],"Rarity":[4],"Event":["None"],"Series":"Koharu Biyori","Release Year":2021,"Number of Cards":1},
{"Name":"Saori (Koharu Biyori)","Element":["Moon"],"Class":["Mage"],"Rarity":[5],"Event":["Tanabata"],"Series":"Koharu Biyori","Release Year":2022,"Number of Cards":1},
{"Name":"Satonaka Chie (Manga Time)","Element":["Sun"],"Class":["Priest"],"Rarity":[5],"Event":["None"],"Series":"Manga Time","Release Year":2021,"Number of Cards":1},
{"Name":"Shirai Reiko (Manga Time)","Element":["Moon"],"Class":["Mage"],"Rarity":[5],"Event":["None"],"Series":"Manga Time","Release Year":2021,"Number of Cards":1},
{"Name":"Kurahashi Riko (Manga Time)","Element":["Fire"],"Class":["Warrior"],"Rarity":[5],"Event":["None"],"Series":"Manga Time","Release Year":2021,"Number of Cards":1},
{"Name":"Maki Natsuo (Manga Time)","Element":["Water"],"Class":["Alchemist"],"Rarity":[5],"Event":["None"],"Series":"Manga Time","Release Year":2021,"Number of Cards":1},
{"Name":"Komori Shuri (Manga Time)","Element":["Moon"],"Class":["Knight"],"Rarity":[5],"Event":["None"],"Series":"Manga Time","Release Year":2021,"Number of Cards":1},
{"Name":"Nishitori Megumi (Manga Time)","Element":["Sun"],"Class":["Mage"],"Rarity":[5],"Event":["None"],"Series":"Manga Time","Release Year":2021,"Number of Cards":1},
{"Name":"Negishi Masako (Manga Time)","Element":["Moon"],"Class":["Alchemist"],"Rarity":[4],"Event":["None"],"Series":"Manga Time","Release Year":2021,"Number of Cards":1},
{"Name":"Kazairo Kotone (RPG Real Estate)","Element":["Fire"],"Class":["Mage"],"Rarity":[5],"Event":["None"],"Series":"RPG Real Estate","Release Year":2022,"Number of Cards":1},
{"Name":"Fa (RPG Real Estate)","Element":["Earth","Moon"],"Class":["Warrior","Alchemist"],"Rarity":[4,5],"Event":["Swimsuit"],"Series":"RPG Real Estate","Release Year":2022,"Number of Cards":2},
{"Name":"Rufuria (RPG Real Estate)","Element":["Wind"],"Class":["Priest"],"Rarity":[4],"Event":["None"],"Series":"RPG Real Estate","Release Year":2022,"Number of Cards":1},
{"Name":"Rakira (RPG Real Estate)","Element":["Wind"],"Class":["Warrior"],"Rarity":[4],"Event":["None"],"Series":"RPG Real Estate","Release Year":2022,"Number of Cards":1},
{"Name":"Gotoh Hitori (Bocchi the Rock!)","Element":["Moon"],"Class":["Knight"],"Rarity":[5],"Event":["None"],"Series":"Bocchi the Rock!","Release Year":2022,"Number of Cards":1},
{"Name":"Ijichi Nijika (Bocchi the Rock!)","Element":["Water"],"Class":["Priest"],"Rarity":[4],"Event":["None"],"Series":"Bocchi the Rock!","Release Year":2022,"Number of Cards":1},
{"Name":"Yamada Ryo (Bocchi the Rock!)","Element":["Earth"],"Class":["Alchemist"],"Rarity":[4],"Event":["None"],"Series":"Bocchi the Rock!","Release Year":2022,"Number of Cards":1},
{"Name":"Kita Ikuyo (Bocchi the Rock!)","Element":["Fire"],"Class":["Warrior"],"Rarity":[4],"Event":["None"],"Series":"Bocchi the Rock!","Release Year":2022,"Number of Cards":1},
{"Name":"Minagi Hiyori (Slow Loop)","Element":["Water"],"Class":["Knight"],"Rarity":[5],"Event":["None"],"Series":"Slow Loop","Release Year":2022,"Number of Cards":1},
{"Name":"Minagi Koharu (Slow Loop)","Element":["Water","Wind"],"Class":["Warrior","Priest"],"Rarity":[4,5],"Event":["Swimsuit"],"Series":"Slow Loop","Release Year":2022,"Number of Cards":2},
{"Name":"Yoshinaga Koi (Slow Loop)","Element":["Earth"],"Class":["Mage"],"Rarity":[4],"Event":["None"],"Series":"Slow Loop","Release Year":2022,"Number of Cards":1},
        ];

        let data = initialData.slice();
        let secret = null;
        let guessesLeft = 10;
        let hintUsed = false; 
        const hintPriority = ['Element', 'Class', 'Event', 'Series', 'Release Year', 'Number of Cards', 'Rarity'];

        function setStatus(msg, isError = true) {
            const s = document.getElementById('status');
            s.textContent = msg || '';
            s.className = isError ? 'text-red-600 font-medium' : 'text-green-600 font-medium';
        }

        // MODIFIED: Now handles showing series name in autocomplete
        function populateDatalist(filter = '') {
            const dl = document.getElementById('namesList');
            const showSeries = document.getElementById('showSeriesCheckbox').checked;
            dl.innerHTML = '';
            if (filter.length < 2) return;

            data.forEach(c => {
                const displayName = showSeries ? `${c.Name} (${c.Series})` : c.Name;
                if (displayName.toLowerCase().includes(filter.toLowerCase())) {
                    const opt = document.createElement('option');
                    opt.value = displayName;
                    dl.appendChild(opt);
                }
            });
        }

        function pickSecret() {
            if (data.length === 0) {
                setStatus('No characters loaded!', true);
                return;
            }
            secret = data[Math.floor(Math.random() * data.length)];
            console.log('Secret (debug):', secret.Name);
        }

        function updateGuessesUI() {
            document.getElementById('guessesLeft').textContent = guessesLeft;
            
            const gemsContainer = document.getElementById('gems');
            gemsContainer.innerHTML = '';
            for (let i = 0; i < guessesLeft; i++) {
                const img = document.createElement('img');
                img.src = gemIcon;
                img.className = 'icon w-6 h-6';
                img.alt = 'Gem';
                gemsContainer.appendChild(img);
            }

            const hintButton = document.getElementById('hintButton');
            if (guessesLeft < 5 && guessesLeft > 1 && !hintUsed) {
                hintButton.style.display = 'block';
            } else {
                hintButton.style.display = 'none';
            }
        }

        function resetGame() {
            guessesLeft = parseInt(document.getElementById('difficulty').value, 10);
            hintUsed = false; 
            updateGuessesUI();
            document.querySelector('#gameTable tbody').innerHTML = '';
            document.getElementById('guessInput').disabled = false;
            document.getElementById('guessButton').disabled = false;
            document.getElementById('playAgainBtn').style.display = 'none';
            document.getElementById('hintModal').classList.add('hidden');
            setStatus('');
            pickSecret();
        }

        function compareValues(guessVal, secretVal) {
            const gArr = Array.isArray(guessVal) ? guessVal : [guessVal];
            const sArr = Array.isArray(secretVal) ? secretVal : [secretVal];
            if (JSON.stringify(gArr.sort()) === JSON.stringify(sArr.sort())) return 'match';
            if (gArr.some(g => sArr.map(s => String(s).toLowerCase()).includes(String(g).toLowerCase()))) return 'partial';
            return 'no-match';
        }

        function createIcons(values, iconMap) {
            const container = document.createElement('div');
            container.className = 'flex flex-wrap gap-1';
            values.forEach(val => {
                if (iconMap[val]) {
                    const img = document.createElement('img');
                    img.src = iconMap[val];
                    img.className = 'icon w-6 h-6';
                    img.title = val;
                    img.alt = val;
                    container.appendChild(img);
                } else {
                    const span = document.createElement('span');
                    span.textContent = val;
                    span.className = 'px-2 py-1 bg-gray-100 rounded-md text-sm';
                    container.appendChild(span);
                }
            });
            return container;
        }

        function formatRarity(rarityArr) {
            return rarityArr.map(r => r + 'â­').join(', ');
        }

        function formatWithArrows(guessVal, secretVal) {
            if (guessVal > secretVal) return guessVal + ' ðŸ¡³';
            if (guessVal < secretVal) return guessVal + ' ðŸ¡±';
            return guessVal;
        }

        function addGuessRow(guess) {
            const tbody = document.querySelector('#gameTable tbody');
            const row = document.createElement('tr');
            const keys = ['Name', 'Element', 'Class', 'Rarity', 'Event', 'Series', 'Release Year', 'Number of Cards'];
            let allMatch = true;
            keys.forEach(key => {
                const cell = document.createElement('td');
                const gVal = guess[key];
                const sVal = secret[key];
                const status = (key === 'Name') ? (gVal === sVal ? 'match' : 'no-match') : compareValues(gVal, sVal);

                if (status !== 'match') {
                    allMatch = false;
                }

                if (key === 'Element') {
                    cell.appendChild(createIcons(gVal, elementIcons));
                } else if (key === 'Class') {
                    cell.appendChild(createIcons(gVal, classIcons));
                } else if (key === 'Rarity') {
                    cell.textContent = formatRarity(gVal);
                } else if (key === 'Release Year' || key === 'Number of Cards') {
                    cell.textContent = formatWithArrows(gVal, sVal);
                } else {
                    cell.textContent = Array.isArray(gVal) ? gVal.join(', ') : gVal;
                }
                
                cell.className = `px-4 py-3 whitespace-nowrap text-sm text-gray-900 status-${status}`;
                row.appendChild(cell);
            });
            if (allMatch) {
                row.querySelectorAll('td').forEach(td => td.className = `px-4 py-3 whitespace-nowrap text-sm text-gray-900 status-match`);
                row.classList.add('status-correct');
                endGame('Congratulations! You found the Correct Kirara Fantasia character.', false);
            }
            tbody.insertBefore(row, tbody.firstChild);
        }

        function addHintRow(hintProperty) {
            const tbody = document.querySelector('#gameTable tbody');
            const row = document.createElement('tr');
            const keys = ['Name', 'Element', 'Class', 'Rarity', 'Event', 'Series', 'Release Year', 'Number of Cards'];

            keys.forEach(key => {
                const cell = document.createElement('td');
                cell.className = 'px-4 py-3 whitespace-nowrap text-sm text-gray-900';

                if (key === 'Name') {
                    cell.textContent = 'Hint';
                    cell.classList.add('font-bold', 'text-yellow-600');
                } else if (key === hintProperty) {
                    const sVal = secret[key];
                    if (key === 'Element') {
                        cell.appendChild(createIcons(sVal, elementIcons));
                    } else if (key === 'Class') {
                        cell.appendChild(createIcons(sVal, classIcons));
                    } else if (key === 'Rarity') {
                        cell.textContent = formatRarity(sVal);
                    } else {
                        cell.textContent = Array.isArray(sVal) ? sVal.join(', ') : sVal;
                    }
                    cell.classList.add('status-match');
                } else {
                    cell.classList.add('bg-gray-100');
                }
                row.appendChild(cell);
            });
            tbody.insertBefore(row, tbody.firstChild);
        }

        function provideHint() {
            guessesLeft--;
            hintUsed = true; 
            updateGuessesUI();

            const revealedProperties = new Set();
            const tableRows = document.querySelectorAll('#gameTable tbody tr');
            const tableKeys = ['Name', 'Element', 'Class', 'Rarity', 'Event', 'Series', 'Release Year', 'Number of Cards'];

            tableRows.forEach(row => {
                if (row.cells[0].textContent === 'Hint') return;

                row.querySelectorAll('td').forEach((cell, index) => {
                    const key = tableKeys[index];
                    if (cell.classList.contains('status-match')) {
                        revealedProperties.add(key);
                    }
                });
            });

            const hintToGive = hintPriority.find(prop => !revealedProperties.has(prop));

            if (hintToGive) {
                addHintRow(hintToGive);
            } else {
                setStatus('No more hints available!', false);
                guessesLeft++; 
                hintUsed = false; 
                updateGuessesUI();
            }

            document.getElementById('hintModal').classList.add('hidden');

            if (guessesLeft === 0 && !document.querySelector('.status-correct')) {
                endGame('Out of guesses. The Kirara Fantasia character you were looking for was: ' + secret.Name, true);
            }
        }

        function endGame(message, isError = true) {
            setStatus(message, isError);
            document.getElementById('guessInput').disabled = true;
            document.getElementById('guessButton').disabled = true;
            document.getElementById('playAgainBtn').style.display = 'block';
            document.getElementById('hintButton').style.display = 'none';
        }

        // MODIFIED: Now handles parsing the name from the input field
        function handleGuess() {
            setStatus('');
            if (guessesLeft <= 0) {
                endGame('No guesses left. Start a new game.', true);
                return;
            }
            if (!secret) {
                setStatus('No secret character selected. Resetting game.', true);
                resetGame();
                return;
            }

            const input = document.getElementById('guessInput');
            let name = input.value.trim();
            if (!name) return;

            // If the name includes the series in parentheses, extract just the name
            if (name.includes(' (')) {
                name = name.substring(0, name.lastIndexOf(' ('));
            }

            const guess = data.find(c => c.Name.toLowerCase() === name.toLowerCase());
            if (!guess) {
                const suggestions = data.map(c => c.Name).filter(n => n.toLowerCase().includes(name.toLowerCase())).slice(0, 5);
                setStatus('Name not found. Suggestions: ' + (suggestions.join(', ') || 'none'), true);
                return;
            }

            addGuessRow(guess);
            guessesLeft--;
            updateGuessesUI();
            input.value = '';
            populateDatalist(''); // Clear datalist after guess

            if (guessesLeft === 0 && !document.querySelector('.status-correct')) {
                endGame('Out of guesses. The Kirara Fantasia character you were looking for was: ' + secret.Name, true);
            }
        }

        // --- Event Listeners ---
        document.getElementById('guessButton').addEventListener('click', handleGuess);
        document.getElementById('guessInput').addEventListener('keydown', e => {
            if (e.key === 'Enter') {
                e.preventDefault();
                handleGuess();
            }
        });
        document.getElementById('guessInput').addEventListener('input', e => {
            populateDatalist(e.target.value);
        });
        document.getElementById('difficulty').addEventListener('change', () => {
            localStorage.setItem('difficulty', document.getElementById('difficulty').value);
            resetGame();
        });
        document.getElementById('playAgainBtn').addEventListener('click', () => {
            resetGame();
        });

        document.getElementById('hintButton').addEventListener('click', () => {
            document.getElementById('hintModal').classList.remove('hidden');
        });
        document.getElementById('cancelHintBtn').addEventListener('click', () => {
            document.getElementById('hintModal').classList.add('hidden');
        });
        document.getElementById('confirmHintBtn').addEventListener('click', provideHint);

        // NEW: Event listener for the checkbox
        document.getElementById('showSeriesCheckbox').addEventListener('change', () => {
             // Repopulate the datalist when the checkbox is toggled
            populateDatalist(document.getElementById('guessInput').value);
        });

        // --- Initial Game Setup ---
        const savedDiff = localStorage.getItem('difficulty');
        if (savedDiff) {
            document.getElementById('difficulty').value = savedDiff;
        }
        resetGame();
    </script>
</body>
</html>
